# Search a file for a pattern
grep pattern file

# Case insensitive search (with line numbers)
grep -in pattern file

# Recursively grep for string <pattern> in folder:
grep -R pattern folder

# Read search patterns from a file (one per line)
grep -f pattern_file file

# Find lines NOT containing pattern
grep -v pattern file

# You can grep with regular expressions
grep "^00" file  	# Match lines starting with 00
grep -E "[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}" file  # Find IP add
grep "log$" file	# Match lines ending with log
grep ".ello"		# Match line with a single character followed by ello
grep "kernel: *." files	# Match 0 or more occurrences of 'kernel: '
grep "fword \+sword" file	# Match 1 or more occurrences of spaces between fword and sword
grep "fword \?sword" file	# Match zero or one occurrence of previous character - space

# Escaping the special character (\)
grep "127\.0\.0\.1" file	# Find 127.0.0.1

# Character Class ([0-9])


# Find all files which match {pattern} in {directory}
# This will show: "file:line my research"
grep -rnw 'directory' -e "pattern"

# Grep using the AND expression
# Finding pattern in specific order
grep -E 'pattern1.*pattern2' file.txt

# Finding patterns in any order
grep -E 'pattern1.*pattern2|pattern2.*pattern1' file.txt

# Grep AND using multiple greps
grep -E 'pattern1' file.txt | grep -E 'pattern2'

# Exclude grep from your grepped output of ps.
# Add [] to the first letter. Ex: sshd -> [s]shd
ps aux | grep '[h]ttpd'

# Colour in red {bash} and keep all other lines
ps aux | grep -E --color 'bash|$'

# To add color to grep
export GREP_OPTIONS='--color=auto'

# To search for multiple words
grep 'opened\|closed' /var/log/secure	# grep or

# To view contents of a file without the '#'
grep ^[^#] /etc/postfix/main.cf

# To view only active entries in a file 
egrep -v "^$|^[[:space:]]*#" /etc/postfix/main.cf

# Get an instance count
grep failure /var/log/secure -c

# Display the line numbers
grep -n failure /var/log/secure

# Display all entries which are not a match
grep -v failure /var/log/secure

# search across multiple files
grep -r "username" /etc
grep -rl "username" /etc	# List only the filenames
grep -rL "username" /etc 	# files that do not include username

