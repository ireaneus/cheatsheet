#####  OC Linux VM  #####
#                       #
#   Built by: DHaines   #
#   Date:   12/03/2015  #
#                       #
#####  OC Linux VM  #####


##### OCAdmin VM Details #####
Desktop	-	KDE Plasma 5
OS	-	OpenSuse Leap
Version	-	42.1
Kernel	-	4.1.13-5-default
CPUs	-	4
Memory	-	4G
HDD	-	20G
##### OCAdmin VM Details #####


##### Local User Accounts #####
root    -   Taos2015
ocadmin -   Taos2015
##### Local User Accounts #####


##### Installation Instructions #####

1.  Download all files in this directory to a new directory on your system like VMware\OCLinux
2.  Install VMware player 12 and update it to latest version
3.  Run VMware player and select Open Existing VM, select OCAdmin.vmx from the directory you created
4.  Configure the settings to your liking, ie.. add a shared folder, CPU and memory, USB
5.  OpenSuse installed its own version of Guest VM tools so it is not recommended to reinstall or select install VMware version of vmtools

##### Installation Instructions #####


##### Login and VM setup Instructions #####

1.  At login screen, user account ocadmin should be selected, type the password in the password field to login.
2.  After you get the desktop screen the Update manager will most likely require software updates, select install updates from the notification bar
3.  Open the file manager - Dolphin (File folder on bottom taskbar), Select the split button to open 2 navigation panes.
4.  Navigate to Documents on one of the panes, and move creds to the bin/ directory (on the second pane
5.  Open Terminator (4 red window icon) and when software updates have completed run the following: sudo zypper install kate
6.  After kate installs, go back to Dolphin and in the bin/ directory double click the creds file you moved
7.  Kate should open, add your credentials information to the file, close and save it.

##### Login and VM setup Instructions #####


##### VIM and Mount Taos OCA DFS filesystem #####

1.  In a Terminator window edit the /etc/fstab file:  sudo vim /etc/fstab
2.  'j' or down arrow to the S drive entry '#//sj-dfs01...' with the cursor over the '#' type 'x' to remove it, and if there is still a space between it and the '//' hit 'x' again to remove it as well
3.  Now change the location of the creds file on this same line.  Use the 'w' key to move across the line by words, and the 'l' to move to the 'Documents' in the creds path.  Use the 'x' to remove it from the path, then use the 'i' key to insert mode and type 'bin' in the 'Documents' place.
4.  Hit 'ESC' key to get back to command mode, now type the following: ':wq' to write and quit from vim
5.  From the Terminator window type 'sudo mount -a' to mount the fstab file.  You should now have files in the 'Public' folder in your user folder.
6.  In Dolphin copy this README file to your Documents folder for future reference.

##### VIM and Mount Taos OCA DFS filesystem #####


##### OCADMIN LINUX ENVIRONMENT	######

# You now have a fully functional Linux environment to help you support Linux environment clients at Taos
# and to give you a better working knowledge of the Linux OS environment.
# Listed below are the features you will be able to use to accomplish both of the above objectives:

## KDE Task Bar icons - Panel at the bottom of screen ##
KGear 		- A Start button for Windows users - all applications in categories
Firefox		- iMacros and Salesforce overlay installed, update the Salesforce overlay.
>Konsole	- KDE terminal 
Terminator	- Multi-Window terminal application, can be used to have multiple terminal sessions in 1 window
Yast		- OpenSuse Control Center, software manager.
System Settings	- Configure workspace, themes, color, network, mostly user profile settings
Pidgin		- Setup your spark account here, also you can setup BMRN Lync, and Skype.
Putty		- Used for Sonicwall Linux systems, and Zipcar Linux systems
KRDC		- Remote Desktop application, works for Server2012 based Windows.
Thunderbird	- Email client.  Configure for Taos Email if you like.
KeepassX	- Opens most keepass files
Dolphin		- File manager, split window file management
Pager		- Currently configured for 2 virtual desktops, move apps between the 2.  Configure more (4) in System settings

Clipboard, Volume, Network, Notifications, Clock/Calendar, Panel settings - icons on the right
## KDE Task Bar icons - Panel at the bottom of screen ##

Desktop settings	- Right click the desktop and change/download new wallpapers

### The power of the Command Line is strong with this one ###

# I built several command line tools in this VM
# and am adding more command based tools in the OCA DFS location
# These tools will be located in the 'Public' folder
# Listed below are the command tools that are currently loaded
# All are accessed from either the Konsole or Terminator window

## alias - 'a' ##
# I created several shortcuts called alias to remote desktop / ssh into several clients
# You will need to edit to change the usernames in the .bash_aliases file
 
type 'a' for alias | less to show pages of aliases that are defined.
type alias | grep keyword 	# search for aliases based on keyword
type vim .bash_aliases		# Edit the aliases file to change usernames 

## cheat - A Linux cheatsheet program ##
# Cheat is a very versatile cheatsheet program that lets you edit current entries and create new ones
# I have it setup so Cheat will use the OCA DFS location for updated cheatsheets
# So if you have ideas or new entries for cheat send me an email with them and I will get them added.  dhaines@taos.com

Usage:
  cheat <cheatsheet>
  cheat -e <cheatsheet>
  cheat -s <keyword>
  cheat -l 	# lists current cheatsheets
  cheat -d	# lists the directories where cheatsheets are stored
  cheat -v	# version

# Tip: You may want to edit aliases and add some cheat aliases such as 'cs' cheat -s 
# Cheat search via keyword is very powerful, I use it all the time
# Cheat editing is very nice too, it uses VIM to edit current and new cheatsheets.  Again send me any additions you might want to create so all of us will be able to use them.

## rdesktop ##
# I configured several aliases for client remote desktop sessions.
# if you search aliases 'alias | grep rdesktop' it will list all the rdesktop sessions configured
# Edit the .bash_aliases and replace my username for yours so you can use the remote desktop sessions
# You can also configure new ones, or change the window settings by typing 'rdesktop --help' for more information.

rdesktop --help 	# For commandline configuration parameters

## ssh ##
# From Konsole/Terminator you will be able to ssh to Taoslab boi-noclinux system, Mocean, Zipcar, and other systems and clients that have setup SSH for us
# Check out the SSH section of the .bash_aliases file to SSH to the clients listed

# To SSH to Mocean follow these steps
1.  Copy your Mocean private key, and the client.opvn to this system, copy the client file to /etc/openvpn
2.  type ssh-add <mocean private key file>
3.  In a new terminal window(terminator) type su - 	# switch user to root
4.  From the root account cd /etc/openvpn then type nohup openvpn client.ovpn & hit enter, then type tail -f nohup.out to see if it inititated successfully
5.  From the ssh-add window type the alias 'mocean' to ssh to the mocean jumpbox	# be sure you have edited .bash_aliases entry for mocean to have your username to it.
6.  From the jumpbox you can ssh to the alerted system.

## Scripts ##
# I will be creating scripts and place them in a .scripts folder in the OCA DFS share.
# Copy these scripts to your bin/ directory so they can be executed by name

### The power of the Command Line is strong with this one ###

### Client Support Tools ###
# This list has the clients and what tools can be used in this VM to support them, in shorthand.

AAA - KRDC
blackarrow - ssh - putty - alias
BioMarin - KRDC
dolby - KRDC
Exelixis - KRDC - rdesktop - alias
Merchant - KRDC
Mocean - openvpn - ssh - putty - alias - zabbix - KRDC - rdesktop alias
Palo Alto Networks - FF
Practice Fusion - KRDC - rdesktop alias
Research Affiliates - KRDC - rdesktop alias
Restoration Hardware - KRDC - rdesktop alias
Rovi - KRDC - rdesktop alias
Silverspring - 
Soladigm/View - KRDC - opsview monitoring
Sonicwall - Avantail VPN - KRDC - rdesktop alias - putty
Yodlee - 
Zipcar - ssh passwordless - KRDC - rdesktop alias - slack
